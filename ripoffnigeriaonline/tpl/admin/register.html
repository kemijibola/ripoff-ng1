<div class="bg-light lter b-b wrapper-md">
    <h1 class="m-n font-thin h3">Register- Step ONE</h1>
</div>

<div class="wrapper-md">
    <!--<toaster-container toaster-options="{'position-class': 'toast-top-right', 'close-button':false}"></toaster-container>-->
    <div ng-controller="AdminSignUpController">
        <div class="row">
            <div class="col-sm-12">
                <form name="userForm" class="form-validation" novalidate>
                    <fieldset ng-disabled="isSaving == true">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <span class="h4">Register AdminHub User</span>
                            </div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="form-group col-md-6">
                                        <label>Username</label>
                                        <div class="input-group">
                                            <span class="input-group-addon"><i class="fa fa-user"></i></span>
                                            <input type="text" class="form-control" name="username" ng-model="registration.userName" ng-pattern="/^\b(?:[A-Z]\w+\b(?:\s*)?)+$/" required unique-username ng-model-options="{ updateOn: 'default blur', debounce: {'default': 300, 'blur': 0} }">
                                        </div>
                                        <em class="text-muted">ex. Firstname_Lastname</em>
                                        <div class="form-group has-error" ng-messages="userForm.username.$error" ng-if="userForm.username.$dirty || userForm.username.$touched || userForm.username.$submitted">
                                            <div class="help-block" ng-message="required"><p class="icon-remove-sign">Username is required</p></div>
                                            <div class="help-block" ng-message="pattern"><p class="icon-remove-sign">Username must be Firstname_Lastname</p></div>
                                            <div class="help-block" ng-message when="unique">Username already in use</div>
                                            <span class="help-block" ng-if="userForm.username.$pending">
                                                Checking Username...
                                            </span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label>Email</label>
                                        <div class="input-group">
                                            <span class="input-group-addon"><i class="fa fa-envelope-o"></i></span>
                                            <input type="email" class="form-control" name="email" ng-model="registration.email" unique-email ng-pattern="/^[\w-]+(\.[\w-]+)*@([a-z0-9-]+(\.[a-z0-9-]+)*?\.[a-z]{2,6}|(\d{1,3}\.){3}\d{1,3})(:\d{4})?$/" required>
                                        </div>
                                        <em class="text-muted">ex. johndoe@domain.com</em>
                                        <div class="form-group has-error" ng-messages="userForm.email.$error" ng-if="userForm.$submitted || userForm.email.$touched">
                                            <div class="help-block" ng-message="pattern"><p class="icon-remove-sign">A valid email is required</p></div>
                                            <div class="help-block" ng-message when="unique">Email already asscociated with an account</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-6">
                                        <label class="control-label" for="inputPassword">Password</label>
                                        <div class="input-group controls">
                                            <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                                            <input ng-model="registration.password" class="form-control immediate-help" password-validate required type="password" id="inputPassword" name="inputPassword" placeholder="Password">
                                            <div class="input-help">
                                                <h4>Password must meet the following requirements:</h4>
                                                <ul>
                                                    <li ng-class="pwdHasLowerCase">Must contain <strong>lower letters</strong></li>
                                                    <li ng-class="pwdHasNumber">Must contain<strong>at least one number</strong></li>
                                                    <li ng-class="pwdValidLength">At least <strong>8 characters long</strong></li>
                                                    <li ng-class="pwdHasCapital">At least <strong>Capital Letter</strong></li>
                                                    <li ng-class="pwdHasSymbol">At least <strong>Special Character</strong></li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="form-group has-error" ng-messages="userForm.inputPassword.$error" ng-if="userForm.$submitted || userForm.inputPassword.$touched">
                                            <div class="help-block" ng-message="required">Password field cannot be empty</div>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label>Confirm password</label>
                                        <div class="input-group">
                                            <span class="input-group-addon"><i class="fa fa-unlock-alt"></i></span>
                                            <input type="password" class="form-control" password-validate name="confirmPassword" required data-indicator="pwindicator" ng-model="registration.confirmPassword" ui-validate=" '$value==registration.password' " ui-validate-watch=" 'registration.password' ">
                                        </div>
                                        <div class="form-group has-error">
                                            <div class="help-block" ng-show='userForm.confirmPassword.$error.validator'><p class="icon-remove-sign">Passwords do not match!</p></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-6">
                                        <label>Full Name</label>
                                        <div class="input-group">
                                            <span class="input-group-addon"><i class="fa fa-user-md"></i></span>
                                            <input type="text" class="form-control" name="fname" ng-model="registration.name" required>
                                        </div>
                                        <em class="text-muted">ex. John Doe</em>
                                        <div class="form-group has-error" ng-messages="userForm.fname.$error" ng-if="userForm.$submitted || userForm.fname.$touched">
                                            <div class="help-block" ng-message="required">Enter your full name</div>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label>Address</label>
                                        <div class="input-group">
                                            <span class="input-group-addon"><i class="fa fa-building"></i></span>
                                            <input type="text" class="form-control" name="address" ng-model="registration.address">
                                        </div>
                                        <em class="text-muted">ex. Adeola Street, Victoria Island</em>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-md-6">
                                        <label>Telephone</label>
                                        <div class="input-group">
                                            <span class="input-group-addon"><i class="fa fa-phone"></i></span>
                                            <input type="tel" class="form-control" name="phone" ng-model="registration.phoneNumber" ng-pattern="/^[0-9]+$/" minlength="6" maxlength="15">
                                        </div>
                                        <em class="text-muted">ex. 08010000000</em>
                                        <div class="form-group has-error" ng-messages="userForm.phone.$error" ng-if="userForm.$submitted || userForm.phone.$touched">
                                            <div class="help-block" ng-message="pattern">Your telephone must be digits</div>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label>Postal Code</label>
                                        <div class="input-group">
                                            <span class="input-group-addon"><i class="fa fa-location-arrow"></i></span>
                                            <input type="text" class="form-control" placeholder="(Optional)" name="zip" ng-model="registration.postalCode" maxlength="8">
                                        </div>
                                        <em class="text-muted">ex. 23401</em>
                                        <div class="form-group has-error" ng-messages="userForm.zip.$error" ng-if="userForm.$submitted || userForm.zip.$touched">
                                            <div class="help-block" ng-message="maxlength">Your Postal Code is too long</div>
                                        </div>
                                    </div>
                                </div>
                                <!--<div class="row">
                                    <div class="form-group col-md-4 form-group-select2">
                                        <label>Country</label>
                                        <div class="input-group">
                                            <select style="width:200px" id="sel2" name="country" ng-init="countryId=countries[0]" ng-model="countryId" ng-options="item.id as item.name for item in countries" ng-change="getStateByCountry(item.id)" required>
                                                <option value="" selected>Select Country</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="form-group col-md-4 form-group-select2">
                                        <label>State</label>
                                        <div class="input-group">
                                            <select style="width:200px" id="sel3" name="state" ng-init="stateId=states[0]" ng-model="stateId" ng-options="item.id as item.name for item in states" ng-change="getCityByState(item.id)" required>
                                                <option value="" selected>
                                                    Select State
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-4 form-group-select2">
                                        <label>City</label>
                                        <div class="input-group">
                                            <select style="width:200px" id="sel4" name="city" ng-init="cityId=cities[0]" ng-model="cityId" ng-options="item.id as item.name for item in cities" required>
                                                <option value="" selected>Select City</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>-->

                                <input type=hidden ng-model="registration.interestedLawyer" />
                                <input type=hidden ng-model="registration.allAdvocate" />
                                <input type=hidden ng-model="registration.commentonmyReport" />
                                <input type=hidden ng-model="registration.commentonmyRebuttal">
                                <input type=hidden value="AdminUser" ng-model="registration.typeofUser" />
                            </div>
                            <div data-ng-hide="message == ''" data-ng-class="(savedSuccessfully) ? 'alert alert-success' : 'alert alert-danger'">
                                {{message}}
                            </div>

                            <footer class="panel-footer text-right bg-light lter">
                                <button type="submit" class="btn btn-success" ng-disabled="userForm.$invalid" data-ng-click="signUp()" ui-toggle-class="show inline" target="#spin">
                                    <span class="text">Create account</span>
                                    <span class="text-active"><i class="fa fa-spin fa-spinner hide" id="spin"></i> Please wait</span>
                                </button>
                            </footer>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
</div>
<link rel="stylesheet" href="css/register.css" type="text/css" />
<!--this page specific inline scripts-->
<script>
    $(function ($) {

        //nice select boxes
        $('#sel2').select2()
                .on("change", function (e) {
                    $('#sel3').select2("val", "", false)
                    $('#sel4').select2("val", "", false)
                })
        ;
        $('#sel3').select2()
                    .on("change", function (e) {
                        $('#sel4').select2("val", "", false)
                    })
        ;
        $('#sel4').select2({ allowClear: true });

    });

</script>
